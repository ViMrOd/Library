<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="icon" type="image/x-icon" href="favicon.png">  </head>


    <link rel="stylesheet" href="styles/login.css">
</head>

<body>

    <form action="" id="frmLogin">

        <hr>
        <h2>Login</h2>
        <hr>

        <input type="text" name="inputUsername" id="inputUsername" placeholder="Enter your username" required>
        <input type="password" name="inputPassword" id="inputPassword" placeholder="Enter your password" required>
        <button type="submit" class="btn">Login</button>

        <br>
        <br>
        <hr>
        <a href="/"><h6>Home</h6></a>
        <hr>
    </form>

    <script src="login.js"></script>
	<script>
        $(document).ready(function() {
            $('#submit').on('click', function() {
                var inputUsername = $('#inputUsername').val();
                var inputPassword = $('#inputPassword').val();
    
                $.ajax({
                    url: 'http://localhost:3000/customer/' + inputUsername + '/' + inputPassword,
                    type: 'GET',
                    dataType: 'json',
                    success:

                    function(data) {
                        var customerInfoHtml = '';
                        console.log(data);
                        if (data && data.length > 0) {
                            var customer = data[0];
                            customerInfoHtml += '<h2>Customer Info</h2>';
                            customerInfoHtml += '<p>Name: ' + customer.customer_name + '</p>';
                            customerInfoHtml += '<p>Email: ' + customer.fine + '</p>';
                            customerInfoHtml += '<p>Phone: ' + customer.phone + '</p>';
                        } else {
                            customerInfoHtml += '<p>No customer found with that ID.</p>';
                        }
    
                        $('#customerInfo').html(customerInfoHtml);
                    },

                    error: function() {

                        $('#customerInfo').html('<p>Error searching for customer.</p>');
                        
                    }
                });
            });
        });
        </script>
    



    <div class="message success">
        <p id="messageSucc" style="text-align:center;"></p>
        <a href="index.html" class="btn">Home</a> <!-- Where we connect user to pages with login priveleges-->
    </div>



<!--
    <script src="login.js"></script>
-->
</body>

</html>
